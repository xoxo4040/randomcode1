<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>즐거운 오븐생활을 위한 난수아이디 생성기</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM CDN -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel CDN (for JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const App = () => {
            const [passwords, setPasswords] = useState([]);
            const [copiedIndex, setCopiedIndex] = useState(null);

            useEffect(() => {
                const newPasswords = generatePasswords();
                // 페이지 접속 시 첫 번째 난수를 자동으로 클립보드에 복사
                if (newPasswords && newPasswords.length > 0) {
                    copyToClipboard(newPasswords[0], 0);
                }
            }, []);

            const generatePasswords = () => {
                const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
                const length = 12;
                const newPasswords = Array.from({ length: 5 }, () => {
                    let pwd = "";
                    for (let i = 0; i < length; i++) {
                        pwd += chars.charAt(Math.floor(Math.random() * chars.length));
                    }
                    return pwd;
                });
                setPasswords(newPasswords);
                return newPasswords; // 생성된 비밀번호 배열 반환
            };

            const copyToClipboard = (text, index) => {
                navigator.clipboard.writeText(text).then(() => {
                    setCopiedIndex(index);
                    setTimeout(() => setCopiedIndex(null), 2000);
                }).catch(err => {
                    console.error('클립보드 복사 실패:', err);
                });
            };

            return (
                <div className="flex flex-col items-center justify-center min-h-screen p-4">
                    <div className="w-full max-w-md space-y-6">
                        <div className="text-center space-y-2">
                            <h1 className="text-3xl font-bold text-gray-800 tracking-tight">즐거운 오븐 생활을 위한 난수아이디 생성기</h1>
                            <p className="text-gray-500">대문자, 소문자, 숫자로 구성된 5개의 비밀번호입니다.</p>
                        </div>

                        <div className="space-y-3">
                            {passwords.map((pwd, index) => (
                                <div
                                    key={index}
                                    className="glass-card flex items-center justify-between p-4 rounded-xl transition-all hover:scale-[1.02]"
                                >
                                    <code className="text-lg font-mono text-indigo-600 font-semibold">{pwd}</code>
                                    <button
                                        onClick={() => copyToClipboard(pwd, index)}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${copiedIndex === index
                                            ? "bg-green-100 text-green-700"
                                            : "bg-indigo-50 text-indigo-600 hover:bg-indigo-100"
                                            }`}
                                    >
                                        {copiedIndex === index ? (
                                            <>
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                                                </svg>
                                                복사됨!
                                            </>
                                        ) : (
                                            <>
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
                                                </svg>
                                                복사
                                            </>
                                        )}
                                    </button>
                                </div>
                            ))}
                        </div>

                        <div className="pt-4 text-center">
                            <button
                                onClick={generatePasswords}
                                className="text-sm font-medium text-gray-400 hover:text-indigo-500 transition-colors"
                            >
                                비밀번호 새로고침
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>